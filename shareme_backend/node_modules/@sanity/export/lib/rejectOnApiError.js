"use strict";

<<<<<<< Updated upstream
var miss = require('mississippi');
module.exports = () => miss.through.obj((doc, enc, callback) => {
=======
const miss = require('mississippi');

module.exports = miss.through.obj((doc, enc, callback) => {
>>>>>>> Stashed changes
  if (doc.error && doc.statusCode) {
    callback(new Error([doc.statusCode, doc.error].join(': ')));
    return;
  }
<<<<<<< Updated upstream
  if (!doc._id && doc.error) {
    callback(new Error(doc.error.description || doc.error.message || JSON.stringify(doc)));
    return;
  }
=======

>>>>>>> Stashed changes
  callback(null, doc);
});