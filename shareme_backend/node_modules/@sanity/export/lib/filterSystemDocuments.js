"use strict";

<<<<<<< Updated upstream
var miss = require('mississippi');
var debug = require('./debug');
var isSystemDocument = doc => doc && doc._id && doc._id.indexOf('_.') === 0;
module.exports = () => miss.through.obj((doc, enc, callback) => {
=======
const miss = require('mississippi');

const debug = require('./debug');

const isSystemDocument = doc => doc && doc._id && doc._id.indexOf('_.') === 0;

module.exports = miss.through.obj((doc, enc, callback) => {
>>>>>>> Stashed changes
  if (isSystemDocument(doc)) {
    debug('%s is a system document, skipping', doc && doc._id);
    return callback();
  }
  return callback(null, doc);
});